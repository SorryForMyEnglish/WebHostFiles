# Телеграм бот хранения файлов

Проект представляет собой простого Telegram-бота, написанного на Go, для хранения файлов пользователей на платной основе. Все данные сохраняются в SQLite.

## Возможности

- Приём документов от пользователей.
- Автоматическое создание файла конфигурации при первом запуске.
- Ограничение размера файла и возможность оплатить дополнительное место.
- База данных SQLite для учёта пользователей, баланса и файлов.
- Управление ботом через клавиатуру снизу.
- Встроенный HTTP/HTTPS сервер для выдачи файлов и уведомлений о скачивании.

Интеграция с CryptoBot и xRocket активируется при указании токенов в `config.yml`. Оплата производится в USDT. По умолчанию стоимость загрузки задаётся параметром `price_upload`, а возврат при удалении файла — `price_refund`.

## Сборка

```bash
go build -o filestorage ./cmd
```

При первом запуске бинарник создаст `config.yml`. Заполните в нём необходимые токены и параметры перед использованием бота.
Основные поля:

- `domain` — базовый URL для ссылок.
- `http_address` — адрес встроенного файлового сервера (по умолчанию `:8080`).
- `tls_cert`, `tls_key` — пути к сертификату и ключу для HTTPS.
- `admin_id` — Telegram ID администратора.
- `price_upload` — стоимость загрузки файла.
- `price_refund` — возврат при удалении файла.

Пример запуска `./filestorage` поднимет HTTP сервер. Для работы через HTTPS задайте сертификаты и `domain` с `https://`. Получить TLS сертификат и ключ можно через certbot.
